<h2>Carrito de compras</h2>

<div class="noProds" *ngIf="cartIsEmpty()">
  <h4>No hay productos en el carrito.</h4>
  <h5>Puedes agregar productos desde nuestro catalogo.</h5>
</div>

<div class="example-container mat-elevation-z8" *ngIf="! localCartIsEmpty()">
    <table mat-table [dataSource]="carrito">
      <ng-container matColumnDef="item">
        <th mat-header-cell *matHeaderCellDef> Producto </th>
        <td mat-cell *matCellDef="let producto"> <img src="{{producto.imagen}}"></td>
        <td mat-footer-cell *matFooterCellDef> </td>
      </ng-container>

      <ng-container matColumnDef="nombre">
        <th mat-header-cell *matHeaderCellDef> Nombre de producto </th>
        <td mat-cell *matCellDef="let producto"> {{producto.nombre }} </td>
        <td mat-footer-cell *matFooterCellDef> </td>
      </ng-container>

       <ng-container matColumnDef="categoria">
        <th mat-header-cell *matHeaderCellDef> Categoria de producto </th>
        <td mat-cell *matCellDef="let producto"> {{producto.nombreCategoria}} </td>
        <td mat-footer-cell *matFooterCellDef> </td>
      </ng-container>

      <ng-container matColumnDef="cantidad">
        <th mat-header-cell *matHeaderCellDef> Cantidad </th>
        <td mat-cell *matCellDef="let producto"> {{producto.cantidad}} </td>
        <td mat-footer-cell *matFooterCellDef> </td>
      </ng-container>

      <ng-container matColumnDef="accion">
        <th mat-header-cell *matHeaderCellDef> Accion </th>
        <td mat-cell *matCellDef="let producto">
           <button mat-button title="Eliminar producto" (click)="removeProductFromCart(producto)"> <img src="../../../assets/img/trash.png"> </button>
           <button mat-button title="Agregar a favoritos"> <img src="../../../assets/img/favorite.png"> </button>
        </td>
        <td mat-footer-cell *matFooterCellDef> </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      <tr mat-footer-row *matFooterRowDef="displayedColumns;"></tr>
    </table>
  </div>

  <mat-button-toggle-group name="fontStyle" aria-label="Font Style" *ngIf="! localCartIsEmpty()">
      <mat-button-toggle value="compare" (click)="sendCodigos()" [routerLink]="['../prices']"> <img src="./../../../assets/img/price_calculator.png">Comparar Precios</mat-button-toggle>
      <mat-button-toggle value="empty" (click)="removeAllProds()" > <img src="./../../../assets/img/trash_icon.png">Vaciar Carrito</mat-button-toggle>
  </mat-button-toggle-group>
